<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJ Online Studio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="dj-deck">
        <!-- Waveform section -->
        <div class="waveform-section">
            <!-- Deck 1 waveform -->
            <div class="waveform">
                <canvas class="waveform-canvas" id="waveform1"></canvas>
            </div>
            <!-- Deck 2 waveform -->
            <div class="waveform">
                <canvas class="waveform-canvas" id="waveform2"></canvas>
            </div>
        </div>

        <!-- Decks container -->
        <div class="deck-container">
            <!-- Deck 1 -->
            <div class="deck" id="deck1">
                <div class="deck-info">
                    <div class="turntable-section">
                        <div class="deck-label">Deck 1</div>
                        <div class="turntable">
                            <div class="platter"></div>
                            <div class="spindle"></div>
                        </div>
                    </div>
                    <div class="deck-controls">
                        <div class="track-info">
                            <div class="title">Title: ---</div>
                            <div class="artist">Artist: ---</div>
                            <div class="bpm">BPM: ---</div>
                            <div class="time-display">
                                <span class="time-elapsed">0:00</span>
                                <span class="time-total">0:00</span>
                            </div>
                        </div>
                        <div class="controls">
                            <div class="control-group">
                                <input type="file" id="audio1" class="file-input" accept="audio/*">
                                <label for="audio1" class="file-label">Load Track</label>
                                <button id="playBtn1">Play</button>
                            </div>
                            <div class="control-group">
                                <label>Volume</label>
                                <input type="range" id="volume1" class="slider" min="0" max="100" value="100">
                            </div>
                            <div class="control-group">
                                <label>Speed</label>
                                <input type="range" id="speed1" class="slider" min="50" max="150" value="100">
                            </div>
                        </div>
                        <div class="volume-meters">
                            <div class="volume-display">
                                <div class="volume-level" id="volumeLevel1"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deck 2 -->
            <div class="deck" id="deck2">
                <div class="deck-info">
                    <div class="turntable-section">
                        <div class="deck-label">Deck 2</div>
                        <div class="turntable">
                            <div class="platter"></div>
                            <div class="spindle"></div>
                        </div>
                    </div>
                    <div class="deck-controls">
                        <div class="track-info">
                            <div class="title">Title: ---</div>
                            <div class="artist">Artist: ---</div>
                            <div class="bpm">BPM: ---</div>
                            <div class="time-display">
                                <span class="time-elapsed">0:00</span>
                                <span class="time-total">0:00</span>
                            </div>
                        </div>
                        <div class="controls">
                            <div class="control-group">
                                <input type="file" id="audio2" class="file-input" accept="audio/*">
                                <label for="audio2" class="file-label">Load Track</label>
                                <button id="playBtn2">Play</button>
                            </div>
                            <div class="control-group">
                                <label>Volume</label>
                                <input type="range" id="volume2" class="slider" min="0" max="100" value="100">
                            </div>
                            <div class="control-group">
                                <label>Speed</label>
                                <input type="range" id="speed2" class="slider" min="50" max="150" value="100">
                            </div>
                        </div>
                        <div class="volume-meters">
                            <div class="volume-display">
                                <div class="volume-level" id="volumeLevel2"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Crossfader -->
        <div class="crossfader-container">
            <div class="deck-label">Crossfader</div>
            <input type="range" id="crossfader" class="slider" min="0" max="100" value="50">
        </div>
    </div>

    <!-- JavaScript modules -->
    <script type="module" src="{{ url_for('static', filename='js/audioEngine.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/waveform.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/deck.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/mixer.js') }}"></script>
</body>
</html>
